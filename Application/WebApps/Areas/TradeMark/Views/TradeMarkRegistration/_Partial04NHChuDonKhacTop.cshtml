@using ObjectInfos
@model string
@{
    string txtTenDayDu = Model + "_txtTenDayDu";
    string txtDiaChi = Model + "_txtDiaChi";
    string txtDienThoai = Model + "_txtDienThoai";
    string txtFax = Model + "_txtFax";
    string txtEmail = Model + "_txtEmail";

    var objAppHeaderInfo = new AppDetail04NHInfo();
    string Name = "", Address = "", Phone = "", Fax = "", Email = "";
    if (Model == "1")
    {
        if (ViewBag.objAppHeaderInfo != null)
        {
            objAppHeaderInfo = (AppDetail04NHInfo)ViewBag.objAppHeaderInfo;
            Name = objAppHeaderInfo.Master_Name;
            Address = objAppHeaderInfo.Master_Address;
            Phone = objAppHeaderInfo.Master_Phone;
            Fax = objAppHeaderInfo.Master_Fax;
            Email = objAppHeaderInfo.Master_Email;
        }
    }
    else if (Model == "2")
    {
        if (ViewBag.objAppHeaderInfo != null)
        {
            objAppHeaderInfo = (AppDetail04NHInfo)ViewBag.objAppHeaderInfo;
            Name = objAppHeaderInfo.Rep_Master_Name;
            Address = objAppHeaderInfo.Rep_Master_Address;
            Phone = objAppHeaderInfo.Rep_Master_Phone;
            Fax = objAppHeaderInfo.Rep_Master_Fax;
            Email = objAppHeaderInfo.Rep_Master_Email;
        }
    }
    else if (Model == "9")
    {
        if (ViewBag.objAppHeaderInfo != null)
        {
            objAppHeaderInfo = (AppDetail04NHInfo)ViewBag.objAppHeaderInfo;
            Name = objAppHeaderInfo.Cdk_Name_1;
            Address = objAppHeaderInfo.Cdk_Address_1;
            Phone = objAppHeaderInfo.Cdk_Phone_1;
            Fax = objAppHeaderInfo.Cdk_Fax_1;
            Email = objAppHeaderInfo.Cdk_Email_1;
        }
    }
    //Dùng cho khi view chi tiết đơn  ViewBag.disableView đc truyền từ form view tổng
    string disableView = "";
    if (!string.IsNullOrEmpty(ViewBag.disableView))
    {
        disableView = ViewBag.disableView;
    }
}
<div class="div-search-ad">
    <div class="div-search-title">
        <div>Tên đầy đủ:</div>
    </div>
    <div class="div-search-content">
        <div>
            <input type="text" @disableView placeholder="Tên đầy đủ" value="@Name" id="@txtTenDayDu" />
        </div>
    </div>
</div>


<div class="div-search-ad">
    <div class="div-search-title">
        <div>Địa chỉ:</div>
    </div>
    <div class="div-search-content">
        <div>
            <input type="text"  @disableView placeholder="Địa chỉ" value="@Address" id="@txtDiaChi" />
        </div>
    </div>
</div>

<div class="div-search-ad">
    <div class="div-search-title">
        <div>Điện thoại:</div>
    </div>
    <div class="div-search-content">
        <div>
            <input type="text" @disableView  placeholder="Điện thoại" value="@Phone" maxlength="50" id="@txtDienThoai" style="width:120px" />
        </div>
    </div>

    <div class="div-search-title">
        <div>Fax:</div>
    </div>
    <div class="div-search-content">
        <div>
            <input type="text" @disableView  placeholder="Fax" maxlength="50" value="@Fax" id="@txtFax" style="width:120px" />
        </div>
    </div>

    <div class="div-search-title">
        <div>Email:</div>
    </div>
    <div class="div-search-content">
        <div>
            <input type="text" @disableView  placeholder="Email" value="@Email" maxlength="50" id="@txtEmail" />
        </div>
    </div>
</div>

<script>
    //Lấy thông tin chủ đơn add vào formData
    function funcThongTinChuDonNguoiDaiDien(formData, PreID) {
        try {
            var txtTenDayDu = $("#" + PreID + "_txtTenDayDu").val();
            if (txtTenDayDu === "") {
                $("#" + PreID + "_txtTenDayDu").focus().val('');
                showError('Tên không được để trống!');
                return false;
            }
            var txtDiaChi = $("#" + PreID + "_txtDiaChi").val();
            if (txtDiaChi === "") {
                $("#" + PreID + "_txtDiaChi").focus().val('');
                showError('Địa chỉ không được để trống!');
                return false;
            }
            var txtDienThoai = $("#" + PreID + "_txtDienThoai").val();
            var txtFax = $("#" + PreID + "_txtFax").val();
            var txtEmail = $("#" + PreID + "_txtEmail").val();
            if (txtEmail != "") {
                if (!IsvalidEmail(txtEmail)) {
                    $("#" + PreID + "_txtEmail").focus();
                    showError('Email không đúng định dạng!');
                    return false;
                }
            }
            //Chủ đơn
            if (PreID == "1") {
                formData.append("pInfo.Master_Name", txtTenDayDu);
                formData.append("pInfo.Master_Address", txtDiaChi);
                formData.append("pInfo.Master_Phone", txtDienThoai);
                formData.append("pInfo.Master_Fax", txtFax);
                formData.append("pInfo.Master_Email", txtEmail);
            } else if (PreID == "2") { //Người đại diện
                formData.append("pInfo.Rep_Master_Name", txtTenDayDu);
                formData.append("pInfo.Rep_Master_Address", txtDiaChi);
                formData.append("pInfo.Rep_Master_Phone", txtDienThoai);
                formData.append("pInfo.Rep_Master_Fax", txtFax);
                formData.append("pInfo.Rep_Master_Email", txtEmail);
                //Detail
            } else if (PreID == "9") {
                formData.append("pDetail.Cdk_Name_1", txtTenDayDu);
                formData.append("pDetail.Cdk_Address_1", txtDiaChi);
                formData.append("pDetail.Cdk_Phone_1", txtDienThoai);
                formData.append("pDetail.Cdk_Fax_1", txtFax);
                formData.append("pDetail.Cdk_Email_1", txtEmail);
            }
            return true;
        } catch (e) {
            return false;
        }
    }
</script>